# Модуль функций виртуального мира для Unity3d.
Данный модуль позволяет создавать и управлять объектами в виртуальном мире Визуализатора на Unity3d.<br>

В конфигурационном файле модуля (config.ini в папке модуля) указывается ip-адрес компьютера на котором запущен Визуализатор и порт для подключения к нему.

*Пример содержимого конфигурационного файла:*
```ini
    [connection]
    ip = 192.168.1.124
    port = 12000
```

#### Доступные функции:

Определение  | Описание 
------------  | ----------------- 
createWorld(**x**, **y**, **z**)	| Создает рабочую область(мир) в визуализаторе с соответствующими границами. 
destroyWorld()	| Уничтожает рабочую область(мир).
deleteObject(**obj_id**)	|  Удаляет объект с заданным **object_id**.
createCube(**x**, **y**, **z**, **dx**, **dy**, **dz**, **angle**, **hold**, **color**)	| Создает куб цвета **color** в координатах **x**,**y**,**z** длиной шириной и высотой в **dx**,**dy**,**dz**. Угол поворота объекта вдоль собственной вертикальной оси равен **angle**. При **hold**=0 объект получает статус не удерживаемого, при **hold**=1 объект получает статус удерживаемого. Возвращает **object_id** созданного объекта.
createSphere(**x**, **y**, **z**, **R**, **hold**, **color**)	| Создает сферу цвета **color** с цетром в координатах **x**,**y**,**z** радиуса **R**. При **hold**=0 объект получает статус не удерживаемого, при **hold**=1 объект получает статус удерживаемого. Возвращает **object_id** созданного объекта.
createModel(**x**, **y**, **z**, **scale_x**, **scale_y**, **scale_z**, **angle**, **hold**, **color**, **path**)	| Создает заранее подготовленную 3d модель, находящуюся по указанному пути **path**, цвета **color** в координатах **x**,**y**,**z**. Масштаб модели задается через **scale_x**, **scale_y**, **scale_z**, угол поворота вдоль собственной вертикальной оси равен **angle**. При **hold**=0 объект получает статус не удерживаемого, при **hold**=1 объект получает статус удерживаемого. Возвращает **object_id** созданного объекта.
changeColor(**obj_id**, **color**)	| Изменение цвета объекта **obj_id** на цвет **color**.;
moveObject(**obj_id**, **x**, **y**, **z**, **angle**, **speed_coord**, **speed_angular**)	| Перемещение объекта **obj_id** в точку с координатами **x**,**y**,**z** со скоростью **speed_coord** и переход d положение с углом поворота **angle** со скоростью **speed_angular**.
changeStatus(**obj_id**, **hold**)	| Изменение статуса(*удерживаемый/не удерживаемый*) объекта **obj_id** на статус задаваемый переменной **hold**.
getX(**obj_id**)	| Возвращает координату **X** объекта.
getY(**obj_id**)	| Возвращает координату **Y** объекта.
getZ(**obj_id**)	| Возвращает координату **Z** объекта.
getAngle(**obj_id**)	| Возвращает угол поворота **angle** объекта.

####Примечания:
Переменная **color** должна принимать строковое значение цвета в HEX формате (три пары шестнадцатеричных цифр 0-F: FFAA00, BBEE33, и пр.).<br>


Если объект при появлении не пересекается с каким-либо другим объектом, то в зависимости от параметра **hold** для него выполняется проверка стабильности.<br>
 - Если параметр **hold** равен 0, то объект получает статус **"не удерживаемого"**, для данного объекта сразу же после появления выполняется проверка стабильности, которая считается успешно пройденной, если под действием физических сил объект не меняет положения и позиции как своих, так и других объектов.<br>
 - Если параметр **hold** равен 1, то объект получает статус **"удерживаемого"** и проверки стабильности для него не выполняется.<br>


Подготовка модели для загрузки виртуальным модулем:<br>
 - модель должна быть создана с помошью Unity3d как [AssetBundle](http://docs.unity3d.com/ru/current/Manual/abfaq.html) <br>
 - в переменной **path** задается путь до файла с 3D моделью относительно каталога для 3D моделей, адрес которого задается в конфигурационном файле для Визуализатора. <br>



Пример пути до файла модели:<br>
 ```
 home/workspace/visualisator/Linux/  - путь до каталога с 3d моделями
 	scenes/
 		...
 	Linux
 	Linux.manifest
 	robot ---------------- имя интересующей нас модели.
 	robot.manifest
```
Тогда переменная **path** функции createModel() должна иметь значение **path**="robot"


####Компиляция
Для компиляции модуля потребуются следующие библиотеки:
- [SimpleIni](https://github.com/brofield/simpleini)
- [Boost](http://www.boost.org/)
